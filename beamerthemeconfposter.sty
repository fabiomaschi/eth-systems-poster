%==============================================================================
% Beamer style for the poster template posted at
% http://www.nathanieljohnston.com/2009/08/latex-poster-template/
%
% Created by the Computational Physics and Biophysics Group at Jacobs University
% https://teamwork.jacobs-university.de:8443/confluence/display/CoPandBiG/LaTeX+Poster
% Modified by Nathaniel Johnston (nathaniel@nathanieljohnston.com) in August 2009
% =============================================================================

\ProvidesPackage{beamerthemeconfposter}
\RequirePackage[T1]{fontenc}
\RequirePackage{ragged2e}

%-----------------------------------------------------------
% ETH Colours
%-----------------------------------------------------------

% ETH Colours
% www.ethz.ch/services/en/service/communication/corporate-design/colour.html
\definecolor{eth1}{RGB}{31,64,122}    % main dark blue
\definecolor{eth2}{RGB}{60,90,15}     % main dark green
\definecolor{eth3}{RGB}{0,105,180}    % light blue
\definecolor{eth4}{RGB}{114,121,28}   % light green
\definecolor{eth5}{RGB}{145,5,106}    % pink
\definecolor{eth6}{RGB}{111,111,110}  % gray
\definecolor{eth7}{RGB}{168,50,45}    % red
\definecolor{eth8}{RGB}{0,122,146}    % cyan
\definecolor{eth9}{RGB}{149,96,19}    % dark yellow
\definecolor{black}{RGB}{0,0,0}       % black


% set the basic colors
\setbeamercolor{palette primary}   {fg=black,bg=white}
\setbeamercolor{palette secondary} {fg=black,bg=white}
\setbeamercolor{palette tertiary}  {bg=eth1,fg=white}
\setbeamercolor{palette quaternary}{fg=black,bg=white}
\setbeamercolor{structure}{fg=eth1}
\setbeamercolor{titlelike}         {bg=eth1,fg=white}
\setbeamercolor{frametitle}        {bg=eth3!10,fg=eth1}
\setbeamercolor{cboxb}{fg=black,bg=eth1}
\setbeamercolor{cboxr}{fg=black,bg=red}

% set colors for itemize/enumerate
\setbeamercolor{item}{fg=eth2}
\setbeamercolor{item projected}{fg=white,bg=eth2}

% set colors for blocks
\setbeamercolor{block title}{fg=eth2,bg=white}
\setbeamercolor{block body}{fg=black,bg=white}

% set colors for alerted blocks (blocks with frame)
\setbeamercolor{block alerted title}{fg=white,bg=eth1}
\setbeamercolor{block alerted body}{fg=black,bg=eth1!10}

% set the fonts
\setbeamerfont{section in head/foot}{series=\bfseries}
\setbeamerfont{block title}{series=\bfseries}
\setbeamerfont{block alerted title}{series=\bfseries}
\setbeamerfont{frametitle}{series=\bfseries}
\setbeamerfont{frametitle}{size=\Large}
\setbeamerfont{block body}{series=\rmfamily}

% set some beamer theme options
\setbeamertemplate{title page}[default][colsep=-4bp,rounded=true]
\setbeamertemplate{sections/subsections in toc}[square]
\setbeamertemplate{items}[circle]
\setbeamertemplate{blocks}[width=0.0]
\beamertemplatenavigationsymbolsempty

% set bibliography style
\setbeamertemplate{bibliography item}[text]
\setbeamercolor{bibliography item}{fg=black,bg=white}
\setbeamercolor{bibliography entry author}{fg=black,bg=white}
\setbeamercolor{bibliography item}{fg=black,bg=white}

% define some length variables that are used by the template
\newlength{\inboxwd}
\newlength{\iinboxwd}
\newlength{\inboxrule}

\newlength{\boxpadding}
\setlength{\boxpadding}{3cm}

\setlength{\belowcaptionskip}{2ex} % White space under figures
\setlength\belowdisplayshortskip{2ex} % White space under equations

\makeatletter
\makeatother

%==============================================================================
% build the poster title
%==============================================================================
% ----------------- Headline ------------------
\setbeamertemplate{headline}{%
\vspace{2.5cm}
\begin{beamercolorbox}{headline}
\begin{columns}
\begin{column}{0.20\linewidth}
  %\hspace{2cm}
  \flushright
  \includegraphics[trim={20pt 20pt 20pt 20pt},clip,height=80px]{eth_logo_kurz_pos.eps}
\end{column}
%
\begin{column}{0.6\linewidth}
  \centering
  \vfill
  \vspace{4ex}
  \usebeamercolor{headline title}{\color{fg}\huge{\textbf{\inserttitle}}\\[1ex]}
  \usebeamercolor{headline author}{\color{fg}\large{\insertauthor}\\[1ex]}
  \usebeamercolor{headline institute}{\color{fg}\normalsize{\insertinstitute}\\[0.5ex]}
  \vspace{7ex}
  \vfill
\end{column}
%
\begin{column}{0.20\linewidth}
  \centering
  \hspace{2cm}
  \includegraphics[height=180px]{systemslogo-3colour-blacktext.eps}
\end{column}
\end{columns}
\end{beamercolorbox}
%\vspace{1cm}
}

% Block definition
\setbeamertemplate{block begin}
{
  \par\vskip\medskipamount
  \begin{beamercolorbox}[dp={1.5ex},left]{block title}
    \vskip0.01cm
    \hskip\boxpadding
    \usebeamerfont{block title}\large\insertblocktitle
  \end{beamercolorbox}
  {\parskip0pt\par}
  \vskip-0.08cm
  \usebeamerfont{block body}
  \begin{beamercolorbox}[sep=\boxpadding,center]{block body}
  \setlength{\inboxwd}{\linewidth}
  \addtolength{\inboxwd}{-2\boxpadding}
  \begin{minipage}{\inboxwd}
  \justifying
}

\setbeamertemplate{block end}
{
  \end{minipage}
  \end{beamercolorbox}
  \vskip\smallskipamount
  \vspace*{2.5ex}
}

% Alert block definition (with frame)
\setbeamertemplate{block alerted begin}
{
  \par\vskip\medskipamount
  \begin{beamercolorbox}[sep=0ex,rounded=true,center,dp={2ex}]{block alerted title}
    \vskip0.01cm
    \usebeamerfont{block title}\large\insertblocktitle
  \end{beamercolorbox}
  {\parskip0pt\par}
  \usebeamerfont{block body}
  \vskip-0.8cm
  
  \begin{beamercolorbox}[sep=0.5cm, rounded=true,center]{block alerted title}
  \setlength{\inboxwd}{\linewidth}
  \addtolength{\inboxwd}{-1cm}
  \begin{beamercolorbox}[rounded=true,wd={\inboxwd},center]{block alerted body}
  \setlength{\iinboxwd}{\inboxwd}
  \setlength{\inboxrule}{\inboxwd}
  \addtolength{\iinboxwd}{-0.5cm}
  \addtolength{\inboxrule}{0.5cm}
  \begin{center}
  \begin{minipage}{\iinboxwd}
  \justifying
}

\setbeamertemplate{block alerted end}
{
  \end{minipage}
  \end{center}
  \end{beamercolorbox}
  \end{beamercolorbox}
  \vskip\smallskipamount
  \vspace*{2.5ex}
}

%-----------------------------------------------------------
% The next part fixes a problem with figure numbering. Thanks Nishan!
% When including a figure in your poster, be sure that the commands are typed in the following order:
% \begin{figure}
% \includegraphics[...]{...}
% \caption{...}
% \end{figure}
% That is, put the \caption after the \includegraphics
%-----------------------------------------------------------

\usecaptiontemplate{
\small
\structure{\insertcaptionname~\insertcaptionnumber:}
\insertcaption}